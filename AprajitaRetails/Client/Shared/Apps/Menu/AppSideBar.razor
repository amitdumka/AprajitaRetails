@using AprajitaRetails.Helpers

@inject LocalStorageAccessor LocalStorage

<SideBar>
    <!-- Sidebar user panel (optional) -->
    <SideBarUserPanel ImageEffect="ImageEffect.Circle" Link="#" Elevation="Elevation.Five" UserImage="../dist/img/aks.jpg">Amit Kumar</SideBarUserPanel>
    @*<SideBarSearch></SideBarSearch>*@

    <SideBarMenu>
        @if (string.IsNullOrEmpty(SelectedStore) == false)
        {
            <SideBarMenuItem Icon="fas fa-solid fa-store" Link="/stores/details/SelectedStore">
                Store Code: @SelectedStore
            </SideBarMenuItem>

        }
        <SideBarMenuItem Link="widgets" Icon="fas fa-th">
            Dashboard
        </SideBarMenuItem>
        <SideBarTreeView Icon="fa-sharp fa-solid fa-receipt">
            <Title>Vouchers</Title>
            <Items>
                <SideBarMenuItem Icon="far fa-circle" Link="vouchers">
                    Voucher
                </SideBarMenuItem>
                <SideBarMenuItem Icon="far fa-circle" Link="vouchers/cash">
                    Cash Voucher
                </SideBarMenuItem>
                <SideBarMenuItem Icon="far fa-circle" Link="vouchers/notes">
                    Notes Voucher
                </SideBarMenuItem>
            </Items>
        </SideBarTreeView>
        <SideBarTreeView Icon="fa-solid fa-people-roof">
            <Title>Payroll</Title>
            <Items>
                <SideBarMenuItem Icon="far fa-circle" Link="payroll/employees">
                    Employee
                </SideBarMenuItem>
                <SideBarMenuItem Icon="far fa-circle" Link="payroll/attendances">
                    Attendance
                </SideBarMenuItem>
                <SideBarMenuItem Icon="far fa-circle" Link="payroll/SalaryPayments">
                    Salary Payment
                </SideBarMenuItem>
                <SideBarMenuItem Icon="far fa-circle" Link="payroll/payslips">
                    PaySlip
                </SideBarMenuItem>
                <SideBarMenuItem Icon="far fa-circle" Link="payroll/advances">
                    Advances
                </SideBarMenuItem>
                <SideBarMenuItem Icon="far fa-circle" Link="payroll/monthlyattendaces">
                    Monthly Attendance
                </SideBarMenuItem>
            </Items>
        </SideBarTreeView>
        <SideBarTreeView Icon="fas fa-tachometer-alt">
            <Title>Accounts</Title>
            <Items>
                <SideBarMenuItem Icon="far fa-circle" Link="banking/banks">
                    Banking
                </SideBarMenuItem>
                <SideBarMenuItem Icon="far fa-circle" Link="accounts/DailySales">
                    Daily Sale
                </SideBarMenuItem>
                <SideBarMenuItem Icon="far fa-circle" Link="accounts/CustomerDues">
                    Dues
                </SideBarMenuItem>
                <SideBarMenuItem Icon="far fa-circle" Link="accounts/DueRecoveries">
                    Recovery
                </SideBarMenuItem>
                <SideBarMenuItem Icon="far fa-circle" Link="TransactionMode">
                    Transaction Mode
                </SideBarMenuItem>
            </Items>
        </SideBarTreeView>
        <SideBarTreeView Icon="fa-solid fa-warehouse">
            <Title>Inventory</Title>
            <Items>
                <SideBarMenuItem Icon="far fa-circle" Link="inventory/purchases">
                    Purchase
                </SideBarMenuItem>
                <SideBarMenuItem Icon="far fa-circle" Link="inventory/stocks">
                    Stock
                </SideBarMenuItem>
                <SideBarMenuItem Link="inventory/products" Icon="far fa-circle">
                    Products
                </SideBarMenuItem>
                <SideBarMenuItem Link="inventory/productcategories" Icon="far fa-circle">
                    Product Category
                </SideBarMenuItem>
                <SideBarMenuItem Link="inventory/subproductcategories" Icon="far fa-circle">
                    Sub Product Category
                </SideBarMenuItem>
            </Items>
        </SideBarTreeView>
        <SideBarTreeView Icon="fa-solid fa-cart-arrow-down">
            <Title>Sale</Title>
            <Items>
                <SideBarMenuItem Icon="far fa-circle" Link="inventory/sales">
                    Regular Invoice
                </SideBarMenuItem>
                <SideBarMenuItem Icon="far fa-circle" Link="inventory/manualsales">
                    Manual Invoice
                </SideBarMenuItem>
                <SideBarMenuItem Icon="far fa-circle" Link="inventory/printInvoices">
                    Invoice Printing
                </SideBarMenuItem>
                <SideBarMenuItem Icon="far fa-circle" Link="inventory/salereports">
                    Sale Report
                </SideBarMenuItem>
            </Items>
        </SideBarTreeView>
        <SideBarTreeView Icon="fa-sharp fa-solid fa-store">
            <Title>Stores</Title>
            <Items>
                <SideBarMenuItem Icon="far fa-circle" Link="stores">
                    Store
                </SideBarMenuItem>
                <SideBarMenuItem Icon="far fa-circle" Link="stores/customers">
                    Customers
                </SideBarMenuItem>
                <SideBarMenuItem Icon="far fa-circle" Link="stores/contacts">
                    Contacts
                </SideBarMenuItem>
                <SideBarMenuItem Icon="far fa-circle" Link="stores/salesmen">
                    Salesmen
                </SideBarMenuItem>
                <SideBarMenuItem Icon="far fa-circle" Link="stores/posMachines">
                    POS Machine
                </SideBarMenuItem>
            </Items>
        </SideBarTreeView>
        <AuthorizeView>
            <NotAuthorized>
                <SideBarTreeView Icon=" fa-solid fa-users-line ">
                    <Title>User</Title>
                    <Items>
                        <SideBarMenuItem Icon="far fa-circle" Link="login">
                            Login
                        </SideBarMenuItem>
                        <SideBarMenuItem Icon="far fa-circle" Link="register">
                            Register
                        </SideBarMenuItem>
                        <SideBarMenuItem Icon="far fa-circle" Link="forgot-password">
                            Forgot Password
                        </SideBarMenuItem>
                    </Items>
                </SideBarTreeView>
            </NotAuthorized>
        </AuthorizeView>
        @*<SideBarTreeView Icon="far fa-plus-square">
        <Title>Extras</Title>
        <Items>
        <SideBarMenuItem Icon="far fa-circle" Link="lockscreen">
        Lockscreen
        </SideBarMenuItem>
        <SideBarMenuItem Icon="far fa-circle" Link="404">
        Error 404
        </SideBarMenuItem>
        <SideBarMenuItem Icon="far fa-circle" Link="500">
        Error 500
        </SideBarMenuItem>
        </Items>
        </SideBarTreeView>*@
        <SideBarMenuItem Link="autologin" Icon="fas fa-user">
            AutoLogin
        </SideBarMenuItem>
        <SideBarMenuItem Link="importdata" Icon="fas fa-th">
            Import Data
            <span class="right badge badge-danger">New</span>
        </SideBarMenuItem>
    </SideBarMenu>
</SideBar>

@code {
    string SelectedStore;
    string LoggedUser;
    protected override async Task OnInitializedAsync()
    {
        LoggedUser = await LocalStorage.GetValueAsync<string>("UserFullName");
        SelectedStore = await LocalStorage.GetValueAsync<string>("StoreCode");
        StateHasChanged();

    }
}